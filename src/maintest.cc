
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
//
//      CCC    AAA   V     V EEEEE       OOO   UU   UU TTTTTT LL    II NN   NN EEEEE RRRRR
//    CC   CC AA  AA  V   V  EE        OO   OO UU   UU   TT   LL    II NNN  NN EE    RR  RR
//    CC      AA  AA  V   V  EEE       OO   OO UU   UU   TT   LL    II NN N NN EEE   RRRRR
//    CC   CC AAAAAA   V V   EE        OO   OO UU   UU   TT   LL    II NN  NNN EE    RR R
//      CCc   AA  AA    V    EEEEE       OOO    UUUUU    TT   LLLLL II NN   NN EEEEE RR  R
//
//    CAVE OUTLINER -- Cave 3D model processing software
//
//    Copyright (C) 2021 by Jari Arkko -- See LICENSE.txt for license information.
//
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////
// Includes ///////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

#include <cassert>
#include "outlinertypes.hh"
#include "outlinerconstants.hh"
#include "outlinerdirection.hh"
#include "outlinerhighprecision.hh"
#include "outlinerprocessor.hh"
#include "outlinerdebug.hh"
#include "maintest.hh"
#include "outlinermaterialmatrix2d.hh"
#include "outlinermaterialmatrix3d.hh"
#include "outlinerformmatrix2d.hh"
#include "outlinerdepthmap.hh"
#include "outlinersvg.hh"
#include "outlinersvgreader.hh"
#include "outlinersvgstacker.hh"
#include "outlinermath.hh"
#include "outlinercomposer.hh"

///////////////////////////////////////////////////////////////////////////////////////////////
// Class functions ////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

MainTest::MainTest(TempFiler& tempFilerIn) :
  tempFiler(tempFilerIn) {
}

MainTest::~MainTest() {
  debugf("MainTest::~MainTest");
}

///////////////////////////////////////////////////////////////////////////////////////////////
// Actual tests ///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

void
MainTest::test(void) {
  
  infof("running tests");

  // Vectors
  OutlinerVector2D::test();
  OutlinerVector3D::test();

  // Lines
  OutlinerLine2D::test();
  OutlinerLine3D::test();

  // Boxes
  OutlinerBox1D::test();
  OutlinerBox2D::test();
  OutlinerBox3D::test();

  // Triangles
  OutlinerTriangle2D::test();
  OutlinerTriangle3D::test();

  // Math
  OutlinerMath::mathTests();

  // Matrices
  MaterialMatrix2D::test();
  MaterialMatrix3D::test();
  FormMatrix2D::test();

  // Depth maps
  DepthMap::test();

  // SVG
  SvgCreator::test();
  SvgReader::test();
  SvgStacker::test();

  // Result composer
  Composer::test(tempFiler);

  // Done
  infof("tests ok");
}

